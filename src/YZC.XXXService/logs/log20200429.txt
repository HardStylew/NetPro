2020-04-29 17:06:00.188 +08:00 [DBG] Hosting starting
2020-04-29 17:06:42.689 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-04-29 17:06:42.700 +08:00 [INF] Now listening on: http://localhost:5000
2020-04-29 17:06:42.701 +08:00 [DBG] Loaded hosting startup assembly YZC.XXXService
2020-04-29 17:06:42.707 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:06:42.733 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:06:42.827 +08:00 [DBG] queryContext => new QueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Core.Data.HealthChecksDb, 
    DiagnosticsLogger<Query>
)
2020-04-29 17:06:42.843 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:06:42.848 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:06:42.853 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:06:42.854 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:06:42.859 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:06:42.869 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:06:42.877 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:06:42.882 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:06:42.883 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:06:42.890 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:06:42.898 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:06:42.903 +08:00 [VRB] Request Headers:

2020-04-29 17:06:42.906 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:06:42.907 +08:00 [VRB] Request Headers:

2020-04-29 17:06:42.943 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-04-29 17:06:42.943 +08:00 [INF] Hosting environment: Development
2020-04-29 17:06:42.944 +08:00 [INF] Content root path: F:\自己代码库\NetPro\src\YZC.XXXService
2020-04-29 17:06:42.946 +08:00 [DBG] Hosting started
2020-04-29 17:06:42.963 +08:00 [DBG] Connection id "0HLVC3IHBLJE7" accepted.
2020-04-29 17:06:42.965 +08:00 [DBG] Connection id "0HLVC3IHBLJE7" started.
2020-04-29 17:06:42.984 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:06:42.987 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-04-29 17:06:42.988 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:06:42.991 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:06:47.240 +08:00 [DBG] Connection id "0HLVC3IHBLJE9" received FIN.
2020-04-29 17:06:47.240 +08:00 [DBG] Connection id "0HLVC3IHBLJE8" received FIN.
2020-04-29 17:06:47.251 +08:00 [DBG] Connection id "0HLVC3IHBLJE8" accepted.
2020-04-29 17:06:47.251 +08:00 [DBG] Connection id "0HLVC3IHBLJE9" accepted.
2020-04-29 17:06:47.251 +08:00 [DBG] Connection id "0HLVC3IHBLJE9" started.
2020-04-29 17:06:47.253 +08:00 [DBG] Connection id "0HLVC3IHBLJE8" started.
2020-04-29 17:06:47.282 +08:00 [DBG] Connection id "0HLVC3IHBLJEA" accepted.
2020-04-29 17:06:47.282 +08:00 [DBG] Connection id "0HLVC3IHBLJEA" started.
2020-04-29 17:06:47.296 +08:00 [DBG] Connection id "0HLVC3IHBLJEB" accepted.
2020-04-29 17:06:47.296 +08:00 [DBG] Connection id "0HLVC3IHBLJEB" started.
2020-04-29 17:06:51.237 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2020-04-29 17:06:51.237 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:06:51.237 +08:00 [DBG] The request path /api/values does not match a supported file type
2020-04-29 17:07:34.662 +08:00 [DBG] Connection id "0HLVC3IHBLJE9" sending FIN because: "The client closed the connection."
2020-04-29 17:07:34.662 +08:00 [DBG] Connection id "0HLVC3IHBLJE8" sending FIN because: "The client closed the connection."
2020-04-29 17:07:34.669 +08:00 [DBG] Connection id "0HLVC3IHBLJE8" disconnecting.
2020-04-29 17:07:34.669 +08:00 [DBG] Connection id "0HLVC3IHBLJE9" disconnecting.
2020-04-29 17:07:34.674 +08:00 [DBG] Connection id "0HLVC3IHBLJE8" stopped.
2020-04-29 17:07:34.674 +08:00 [DBG] Connection id "0HLVC3IHBLJE9" stopped.
2020-04-29 17:07:34.690 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:07:34.690 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:07:34.698 +08:00 [DBG] Running health checks
2020-04-29 17:07:34.704 +08:00 [DBG] Running health check redis
2020-04-29 17:07:34.723 +08:00 [DBG] 1 candidate(s) found for the request path '/api/values'
2020-04-29 17:07:34.753 +08:00 [DBG] Endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)' with route pattern 'api/Values' is valid for the request path '/api/values'
2020-04-29 17:07:34.762 +08:00 [DBG] Request matched endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:07:34.773 +08:00 [INF] Executing endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:07:34.780 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-04-29 17:07:34.804 +08:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get() on controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService).
2020-04-29 17:07:34.805 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["NetPro.Web.Api.Filters.CustomAuthorizeFilter"]
2020-04-29 17:07:34.806 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-04-29 17:07:34.808 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","NetPro.Web.Core.Filters.BenchmarkActionFilter","NetPro.Web.Core.Filters.ReqeustBodyFilter","NetPro.Web.Api.Filters.ViewModelStateActionFilter"]
2020-04-29 17:07:34.809 +08:00 [DBG] Execution plan of exception filters (in the following order): ["NetPro.Web.Core.Filters.NetProExceptionFilter"]
2020-04-29 17:07:34.810 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-04-29 17:07:34.813 +08:00 [VRB] Authorization Filter: Before executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:07:34.814 +08:00 [VRB] Authorization Filter: After executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:07:34.816 +08:00 [DBG] Executing controller factory for controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService)
2020-04-29 17:07:34.860 +08:00 [VRB] Exception Filter: Before executing OnExceptionAsync on filter NetPro.Web.Core.Filters.NetProExceptionFilter.
2020-04-29 17:07:34.888 +08:00 [ERR] YZC.XXXService异常.errorCode:100,errorMsg:程序访问异常,请稍后重试！,请求url:http://localhost:5000/api/values,请求Body:,请求IP:127.0.0.1,服务器名称:DESKTOP-16GLPRM
Autofac.Core.DependencyResolutionException: An exception was thrown while activating YZC.XXXService.Controllers.ValuesController.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'YZC.XXXService.Controllers.ValuesController' can be invoked with the available services and parameters:
Cannot resolve parameter 'YZC.XXXService.IXXXService IXXXService' of constructor 'Void .ctor(YZC.XXXService.IXXXService)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.<>c__DisplayClass7_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.GetOrCreateAndShare(Guid id, Func`1 creator)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Mvc.Controllers.ServiceBasedControllerActivator.Create(ControllerContext actionContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2020-04-29 17:07:34.924 +08:00 [VRB] Exception Filter: After executing OnExceptionAsync on filter NetPro.Web.Core.Filters.NetProExceptionFilter.
2020-04-29 17:07:34.925 +08:00 [DBG] Request was short circuited at exception filter 'NetPro.Web.Core.Filters.NetProExceptionFilter'.
2020-04-29 17:07:34.926 +08:00 [VRB] Always Run Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:07:34.927 +08:00 [VRB] Always Run Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:07:34.929 +08:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.JsonResult.
2020-04-29 17:07:34.933 +08:00 [INF] Executing JsonResult, writing value of type 'NetPro.Web.Core.Models.ApiResultModel'.
2020-04-29 17:07:34.938 +08:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.JsonResult.
2020-04-29 17:07:34.940 +08:00 [VRB] Always Run Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:07:34.941 +08:00 [VRB] Always Run Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:07:34.946 +08:00 [INF] Executed action YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService) in 132.311ms
2020-04-29 17:07:34.946 +08:00 [INF] Executed endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:07:34.946 +08:00 [DBG] Connection id "0HLVC3IHBLJEB" completed keep alive response.
2020-04-29 17:07:34.958 +08:00 [INF] Request finished in 43721.2663ms 500 application/json; charset=utf-8
2020-04-29 17:07:35.129 +08:00 [DBG] Connection id "0HLVC3IHBLJEA" received FIN.
2020-04-29 17:07:35.132 +08:00 [DBG] Connection id "0HLVC3IHBLJEA" sending FIN because: "The client closed the connection."
2020-04-29 17:07:35.136 +08:00 [DBG] Connection id "0HLVC3IHBLJEA" disconnecting.
2020-04-29 17:07:35.144 +08:00 [DBG] Connection id "0HLVC3IHBLJEA" stopped.
2020-04-29 17:07:49.935 +08:00 [ERR] Health check redis completed after 15227.8701ms with status "Unhealthy" and 'null'
2020-04-29 17:07:49.945 +08:00 [DBG] Health check processing completed after 15243.9405ms with combined status "Unhealthy"
2020-04-29 17:07:49.961 +08:00 [DBG] Connection id "0HLVC3IHBLJE7" completed keep alive response.
2020-04-29 17:07:49.962 +08:00 [INF] Request finished in 66979.247ms 503 application/json
2020-04-29 17:07:49.990 +08:00 [INF] Received HTTP response after 67081.6467ms - "ServiceUnavailable"
2020-04-29 17:07:49.994 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:07:49 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:07:49.997 +08:00 [INF] End processing HTTP request after 67101.498ms - "ServiceUnavailable"
2020-04-29 17:07:49.998 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:07:49 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:07:50.179 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckFailureNotification>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckFailureNotification>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckFailureNotification>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:07:50.187 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:07:50.188 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:07:50.189 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.190 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.190 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:07:50.195 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:07:50.200 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:07:50.202 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.204 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.216 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.226 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.226 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:07:50.227 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:07:50.239 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:07:50.241 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.242 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.242 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:07:50.248 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:07:50.251 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:07:50.251 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:07:50.256 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:07:50.258 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:07:50.261 +08:00 [DBG] Foreign key property 'HealthCheckFailureNotification.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:07:50.262 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:07:50.263 +08:00 [DBG] Committing transaction.
2020-04-29 17:07:50.306 +08:00 [DBG] Committing transaction.
2020-04-29 17:07:50.307 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.318 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.318 +08:00 [DBG] Disposing transaction.
2020-04-29 17:07:50.328 +08:00 [DBG] An 'HealthCheckFailureNotification' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.328 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2020-04-29 17:07:50.335 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:07:50.381 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:07:50.384 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:07:50.385 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:07:50.385 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.387 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.388 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:07:50.395 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:07:50.396 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:07:50.398 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.402 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.404 +08:00 [DBG] Creating a new HealthReport history.
2020-04-29 17:07:50.409 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.435 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.441 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.453 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.453 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:07:50.453 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:07:50.463 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:07:50.465 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.467 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.467 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:07:50.476 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:07:50.480 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:07:50.480 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:07:50.483 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:07:50.486 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:07:50.488 +08:00 [DBG] Foreign key property 'HealthCheckExecution.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:07:50.494 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.HealthCheckExecutionId' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:07:50.497 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:07:50.499 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:07:50.499 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:07:50.501 +08:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (Size = 343), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:07:50.502 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (Size = 343), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:07:50.505 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:07:50.506 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:07:50.507 +08:00 [DBG] Committing transaction.
2020-04-29 17:07:50.540 +08:00 [DBG] Committing transaction.
2020-04-29 17:07:50.540 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.553 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:07:50.553 +08:00 [DBG] Disposing transaction.
2020-04-29 17:07:50.557 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.559 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:07:50.559 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:07:50.559 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:07:50.561 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:07:50.562 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:08:00.572 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:08:00.598 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:08:00.599 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:00.600 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:00.601 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:00.603 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:00.603 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:08:00.609 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:08:00.610 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:00.611 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:00.612 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:00.615 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:00.616 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:08:00.616 +08:00 [VRB] Request Headers:

2020-04-29 17:08:00.616 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:08:00.616 +08:00 [VRB] Request Headers:

2020-04-29 17:08:00.648 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:08:00.648 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:08:00.649 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:08:00.652 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:08:00.654 +08:00 [DBG] Running health checks
2020-04-29 17:08:00.655 +08:00 [DBG] Running health check redis
2020-04-29 17:08:15.795 +08:00 [ERR] Health check redis completed after 15139.3382ms with status "Unhealthy" and 'null'
2020-04-29 17:08:15.796 +08:00 [DBG] Health check processing completed after 15141.6341ms with combined status "Unhealthy"
2020-04-29 17:08:15.796 +08:00 [DBG] Connection id "0HLVC3IHBLJE7" completed keep alive response.
2020-04-29 17:08:15.797 +08:00 [INF] Request finished in 15148.2862ms 503 application/json
2020-04-29 17:08:15.809 +08:00 [INF] Received HTTP response after 15193.0196ms - "ServiceUnavailable"
2020-04-29 17:08:15.810 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:08:15 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:08:15.810 +08:00 [INF] End processing HTTP request after 15195.0661ms - "ServiceUnavailable"
2020-04-29 17:08:15.810 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:08:15 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:08:15.817 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:15.818 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:15.818 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.820 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.821 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:08:15.826 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:08:15.830 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:15.832 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:15.833 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.835 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.837 +08:00 [INF] Notification is sent on same window time.
2020-04-29 17:08:15.837 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:08:15.841 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:15.841 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:15.841 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.842 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.843 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:08:15.849 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:08:15.851 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:15.859 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:15.862 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:15.862 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.866 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.866 +08:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2020-04-29 17:08:15.870 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:08:15.870 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:08:15.874 +08:00 [DBG] Unchanged 'HealthCheckExecution.LastExecuted' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:08:15.874 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:15.874 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Description' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:08:15.874 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:15.875 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Duration' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:08:15.876 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:08:15.880 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.882 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.882 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:08:15.886 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:08:15.891 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:15.891 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:15.891 +08:00 [DBG] Executing DbCommand [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:08:15.891 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:08:15.898 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:15.899 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:15.899 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:15.900 +08:00 [DBG] Executing DbCommand [Parameters=[@p2='?', @p0='?' (Size = 54), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:08:15.901 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?', @p0='?' (Size = 54), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:08:15.902 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:15.902 +08:00 [DBG] Committing transaction.
2020-04-29 17:08:15.933 +08:00 [DBG] Committing transaction.
2020-04-29 17:08:15.933 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.945 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:15.945 +08:00 [DBG] Disposing transaction.
2020-04-29 17:08:15.946 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:15.948 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:15.949 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:08:15.950 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:08:15.950 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:08:15.950 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:08:25.964 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:08:25.968 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:08:25.970 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:25.972 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:25.974 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:25.976 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:25.977 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:08:25.981 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:08:25.982 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:25.983 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:25.984 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:25.986 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:25.987 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:08:25.987 +08:00 [VRB] Request Headers:

2020-04-29 17:08:25.988 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:08:25.990 +08:00 [VRB] Request Headers:

2020-04-29 17:08:26.006 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:08:26.006 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:08:26.006 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:08:26.010 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:08:26.011 +08:00 [DBG] Running health checks
2020-04-29 17:08:26.013 +08:00 [DBG] Running health check redis
2020-04-29 17:08:41.131 +08:00 [ERR] Health check redis completed after 15117.1679ms with status "Unhealthy" and 'null'
2020-04-29 17:08:41.131 +08:00 [DBG] Health check processing completed after 15120.0646ms with combined status "Unhealthy"
2020-04-29 17:08:41.132 +08:00 [DBG] Connection id "0HLVC3IHBLJE7" completed keep alive response.
2020-04-29 17:08:41.132 +08:00 [INF] Request finished in 15126.3638ms 503 application/json
2020-04-29 17:08:41.144 +08:00 [INF] Received HTTP response after 15157.4733ms - "ServiceUnavailable"
2020-04-29 17:08:41.146 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:08:40 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:08:41.146 +08:00 [INF] End processing HTTP request after 15159.2571ms - "ServiceUnavailable"
2020-04-29 17:08:41.146 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:08:40 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:08:41.152 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:41.152 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:41.153 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.155 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.156 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:08:41.159 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:08:41.161 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:41.163 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:41.164 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.165 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.166 +08:00 [INF] Notification is sent on same window time.
2020-04-29 17:08:41.166 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:08:41.166 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:41.166 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:41.166 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.166 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.167 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:08:41.174 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:08:41.176 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:41.179 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:41.181 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:41.182 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.186 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.186 +08:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2020-04-29 17:08:41.186 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:08:41.186 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:08:41.189 +08:00 [DBG] Unchanged 'HealthCheckExecution.LastExecuted' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:08:41.190 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:41.192 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Duration' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:08:41.192 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:41.194 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:08:41.195 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.196 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.196 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:08:41.201 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:08:41.210 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:41.210 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:41.210 +08:00 [DBG] Executing DbCommand [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:08:41.210 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:08:41.210 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:41.211 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:41.211 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:08:41.211 +08:00 [DBG] Executing DbCommand [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:08:41.212 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:08:41.213 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:41.213 +08:00 [DBG] Committing transaction.
2020-04-29 17:08:41.247 +08:00 [DBG] Committing transaction.
2020-04-29 17:08:41.247 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.259 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:41.261 +08:00 [DBG] Disposing transaction.
2020-04-29 17:08:41.262 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:41.263 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:41.263 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:08:41.263 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:08:41.263 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:08:41.263 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:08:42.739 +08:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks-webhooks'
2020-04-29 17:08:42.739 +08:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks'
2020-04-29 17:08:51.263 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:08:51.286 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:08:51.287 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:08:51.289 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2020-04-29 17:08:51.289 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:51.289 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:51.289 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:08:51.294 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:08:51.296 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:08:51.296 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:08:51.296 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:51.300 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:08:51.300 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:08:51.300 +08:00 [VRB] Request Headers:

2020-04-29 17:08:51.300 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:08:51.300 +08:00 [VRB] Request Headers:

2020-04-29 17:08:51.319 +08:00 [DBG] Connection id "0HLVC3IHBLJEC" accepted.
2020-04-29 17:08:51.319 +08:00 [DBG] Connection id "0HLVC3IHBLJEC" started.
2020-04-29 17:08:51.321 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:08:51.321 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:08:51.322 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:08:51.324 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:08:51.325 +08:00 [DBG] Running health checks
2020-04-29 17:08:51.326 +08:00 [DBG] Running health check redis
2020-04-29 17:08:52.748 +08:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-04-29 17:08:52.752 +08:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0216ms - processed: 0 items - remaining: 2 items
2020-04-29 17:09:39.903 +08:00 [DBG] Hosting starting
2020-04-29 17:09:40.193 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-04-29 17:09:40.203 +08:00 [INF] Now listening on: http://localhost:5000
2020-04-29 17:09:40.204 +08:00 [DBG] Loaded hosting startup assembly YZC.XXXService
2020-04-29 17:09:40.208 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:09:40.231 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:09:40.317 +08:00 [DBG] queryContext => new QueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Core.Data.HealthChecksDb, 
    DiagnosticsLogger<Query>
)
2020-04-29 17:09:40.333 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:09:40.338 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:09:40.343 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:09:40.345 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:09:40.350 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:09:40.350 +08:00 [DBG] Connection id "0HLVC3K67CNLO" received FIN.
2020-04-29 17:09:40.350 +08:00 [DBG] Connection id "0HLVC3K67CNLN" received FIN.
2020-04-29 17:09:40.360 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:09:40.369 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:09:40.373 +08:00 [DBG] Connection id "0HLVC3K67CNLN" accepted.
2020-04-29 17:09:40.373 +08:00 [DBG] Connection id "0HLVC3K67CNLO" accepted.
2020-04-29 17:09:40.377 +08:00 [DBG] Connection id "0HLVC3K67CNLO" started.
2020-04-29 17:09:40.377 +08:00 [DBG] Connection id "0HLVC3K67CNLN" started.
2020-04-29 17:09:40.380 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:09:40.381 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:09:40.385 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:09:40.396 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:09:40.400 +08:00 [DBG] Connection id "0HLVC3K67CNLN" sending FIN because: "The client closed the connection."
2020-04-29 17:09:40.399 +08:00 [DBG] Connection id "0HLVC3K67CNLO" sending FIN because: "The client closed the connection."
2020-04-29 17:09:40.403 +08:00 [DBG] Connection id "0HLVC3K67CNLN" disconnecting.
2020-04-29 17:09:40.403 +08:00 [DBG] Connection id "0HLVC3K67CNLO" disconnecting.
2020-04-29 17:09:40.409 +08:00 [VRB] Request Headers:

2020-04-29 17:09:40.413 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:09:40.413 +08:00 [VRB] Request Headers:

2020-04-29 17:09:40.413 +08:00 [DBG] Connection id "0HLVC3K67CNLN" stopped.
2020-04-29 17:09:40.414 +08:00 [DBG] Connection id "0HLVC3K67CNLO" stopped.
2020-04-29 17:09:40.453 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-04-29 17:09:40.453 +08:00 [INF] Hosting environment: Development
2020-04-29 17:09:40.455 +08:00 [INF] Content root path: F:\自己代码库\NetPro\src\YZC.XXXService
2020-04-29 17:09:40.457 +08:00 [DBG] Hosting started
2020-04-29 17:09:40.460 +08:00 [DBG] Connection id "0HLVC3K67CNLP" accepted.
2020-04-29 17:09:40.460 +08:00 [DBG] Connection id "0HLVC3K67CNLP" started.
2020-04-29 17:09:40.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:09:40.494 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-04-29 17:09:40.495 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:09:40.499 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:10:15.940 +08:00 [DBG] Connection id "0HLVC3K67CNLQ" accepted.
2020-04-29 17:10:15.942 +08:00 [DBG] Connection id "0HLVC3K67CNLQ" started.
2020-04-29 17:10:15.967 +08:00 [DBG] Connection id "0HLVC3K67CNLR" accepted.
2020-04-29 17:10:15.967 +08:00 [DBG] Connection id "0HLVC3K67CNLR" started.
2020-04-29 17:10:16.021 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2020-04-29 17:10:16.029 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:10:16.030 +08:00 [DBG] The request path /api/values does not match a supported file type
2020-04-29 17:11:58.480 +08:00 [DBG] Hosting starting
2020-04-29 17:11:58.695 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-04-29 17:11:58.704 +08:00 [INF] Now listening on: http://localhost:5000
2020-04-29 17:11:58.706 +08:00 [DBG] Loaded hosting startup assembly YZC.XXXService
2020-04-29 17:11:58.709 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:11:58.733 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:11:58.818 +08:00 [DBG] queryContext => new QueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Core.Data.HealthChecksDb, 
    DiagnosticsLogger<Query>
)
2020-04-29 17:11:58.834 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:11:58.839 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:11:58.844 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:11:58.845 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:11:58.850 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:11:58.856 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:11:58.861 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:11:58.866 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:11:58.867 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:11:58.869 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:11:58.876 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:11:58.882 +08:00 [VRB] Request Headers:

2020-04-29 17:11:58.885 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:11:58.886 +08:00 [VRB] Request Headers:

2020-04-29 17:11:58.918 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-04-29 17:11:58.919 +08:00 [INF] Hosting environment: Development
2020-04-29 17:11:58.919 +08:00 [INF] Content root path: F:\自己代码库\NetPro\src\YZC.XXXService
2020-04-29 17:11:58.919 +08:00 [DBG] Hosting started
2020-04-29 17:11:58.936 +08:00 [DBG] Connection id "0HLVC3LFH0TID" accepted.
2020-04-29 17:11:58.944 +08:00 [DBG] Connection id "0HLVC3LFH0TIE" received FIN.
2020-04-29 17:11:58.944 +08:00 [DBG] Connection id "0HLVC3LFH0TIF" received FIN.
2020-04-29 17:11:58.947 +08:00 [DBG] Connection id "0HLVC3LFH0TID" started.
2020-04-29 17:11:58.947 +08:00 [DBG] Connection id "0HLVC3LFH0TIF" accepted.
2020-04-29 17:11:58.947 +08:00 [DBG] Connection id "0HLVC3LFH0TIE" accepted.
2020-04-29 17:11:58.947 +08:00 [DBG] Connection id "0HLVC3LFH0TIF" started.
2020-04-29 17:11:58.947 +08:00 [DBG] Connection id "0HLVC3LFH0TIE" started.
2020-04-29 17:11:59.064 +08:00 [DBG] Connection id "0HLVC3LFH0TIF" sending FIN because: "The client closed the connection."
2020-04-29 17:11:59.065 +08:00 [DBG] Connection id "0HLVC3LFH0TIE" sending FIN because: "The client closed the connection."
2020-04-29 17:11:59.065 +08:00 [DBG] Connection id "0HLVC3LFH0TIF" disconnecting.
2020-04-29 17:11:59.066 +08:00 [DBG] Connection id "0HLVC3LFH0TIE" disconnecting.
2020-04-29 17:11:59.076 +08:00 [DBG] Connection id "0HLVC3LFH0TIF" stopped.
2020-04-29 17:11:59.076 +08:00 [DBG] Connection id "0HLVC3LFH0TIE" stopped.
2020-04-29 17:11:59.084 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:11:59.087 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-04-29 17:11:59.088 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:11:59.093 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:12:02.399 +08:00 [DBG] Connection id "0HLVC3LFH0TIG" accepted.
2020-04-29 17:12:02.402 +08:00 [DBG] Connection id "0HLVC3LFH0TIG" started.
2020-04-29 17:12:02.402 +08:00 [DBG] Connection id "0HLVC3LFH0TIH" accepted.
2020-04-29 17:12:02.416 +08:00 [DBG] Connection id "0HLVC3LFH0TIH" started.
2020-04-29 17:12:02.465 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2020-04-29 17:12:02.465 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:12:02.465 +08:00 [DBG] The request path /api/values does not match a supported file type
2020-04-29 17:14:07.010 +08:00 [DBG] Connection id "0HLVC3LFH0TID" received FIN.
2020-04-29 17:14:07.012 +08:00 [DBG] Connection id "0HLVC3LFH0TID" sending FIN because: "The client closed the connection."
2020-04-29 17:14:07.012 +08:00 [DBG] Connection id "0HLVC3LFH0TID" disconnecting.
2020-04-29 17:14:16.818 +08:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks'
2020-04-29 17:14:16.818 +08:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks-webhooks'
2020-04-29 17:21:43.489 +08:00 [DBG] Hosting starting
2020-04-29 17:21:43.748 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-04-29 17:21:43.758 +08:00 [INF] Now listening on: http://localhost:5000
2020-04-29 17:21:43.760 +08:00 [DBG] Loaded hosting startup assembly YZC.XXXService
2020-04-29 17:21:43.764 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:21:43.771 +08:00 [DBG] Connection id "0HLVC3QTQF87A" received FIN.
2020-04-29 17:21:43.781 +08:00 [DBG] Connection id "0HLVC3QTQF87A" accepted.
2020-04-29 17:21:43.783 +08:00 [DBG] Connection id "0HLVC3QTQF87A" started.
2020-04-29 17:21:43.795 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:21:43.803 +08:00 [DBG] Connection id "0HLVC3QTQF87A" sending FIN because: "The client closed the connection."
2020-04-29 17:21:43.805 +08:00 [DBG] Connection id "0HLVC3QTQF87A" disconnecting.
2020-04-29 17:21:43.810 +08:00 [DBG] Connection id "0HLVC3QTQF87A" stopped.
2020-04-29 17:21:43.898 +08:00 [DBG] queryContext => new QueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Core.Data.HealthChecksDb, 
    DiagnosticsLogger<Query>
)
2020-04-29 17:21:43.916 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:21:43.921 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:21:43.923 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:21:43.924 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:21:43.930 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:21:43.938 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:21:43.944 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:21:43.949 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:21:43.949 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:21:43.953 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:21:43.960 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:21:43.966 +08:00 [VRB] Request Headers:

2020-04-29 17:21:43.969 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:21:43.970 +08:00 [VRB] Request Headers:

2020-04-29 17:21:44.002 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-04-29 17:21:44.003 +08:00 [INF] Hosting environment: Development
2020-04-29 17:21:44.004 +08:00 [INF] Content root path: F:\自己代码库\NetPro\src\YZC.XXXService
2020-04-29 17:21:44.005 +08:00 [DBG] Hosting started
2020-04-29 17:21:44.007 +08:00 [DBG] Connection id "0HLVC3QTQF87B" accepted.
2020-04-29 17:21:44.008 +08:00 [DBG] Connection id "0HLVC3QTQF87B" started.
2020-04-29 17:21:44.029 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:21:44.033 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-04-29 17:21:44.034 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:21:44.037 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:21:54.795 +08:00 [DBG] Connection id "0HLVC3QTQF87C" accepted.
2020-04-29 17:21:54.817 +08:00 [DBG] Connection id "0HLVC3QTQF87D" accepted.
2020-04-29 17:21:54.825 +08:00 [DBG] Connection id "0HLVC3QTQF87C" started.
2020-04-29 17:21:54.826 +08:00 [DBG] Connection id "0HLVC3QTQF87D" started.
2020-04-29 17:21:57.327 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2020-04-29 17:21:57.327 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:21:57.334 +08:00 [DBG] The request path /api/values does not match a supported file type
2020-04-29 17:22:38.834 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:22:38.834 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:22:38.841 +08:00 [DBG] Running health checks
2020-04-29 17:22:38.846 +08:00 [DBG] Running health check redis
2020-04-29 17:22:38.864 +08:00 [DBG] 1 candidate(s) found for the request path '/api/values'
2020-04-29 17:22:38.880 +08:00 [DBG] Endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)' with route pattern 'api/Values' is valid for the request path '/api/values'
2020-04-29 17:22:38.898 +08:00 [DBG] Request matched endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:22:38.914 +08:00 [INF] Executing endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:22:38.922 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-04-29 17:22:38.944 +08:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get() on controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService).
2020-04-29 17:22:38.946 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["NetPro.Web.Api.Filters.CustomAuthorizeFilter"]
2020-04-29 17:22:38.946 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-04-29 17:22:38.948 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","NetPro.Web.Core.Filters.BenchmarkActionFilter","NetPro.Web.Core.Filters.ReqeustBodyFilter","NetPro.Web.Api.Filters.ViewModelStateActionFilter"]
2020-04-29 17:22:38.948 +08:00 [DBG] Execution plan of exception filters (in the following order): ["NetPro.Web.Core.Filters.NetProExceptionFilter"]
2020-04-29 17:22:38.949 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-04-29 17:22:38.954 +08:00 [VRB] Authorization Filter: Before executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:22:38.956 +08:00 [VRB] Authorization Filter: After executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:22:38.957 +08:00 [DBG] Executing controller factory for controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService)
2020-04-29 17:22:38.960 +08:00 [DBG] Executed controller factory for controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService)
2020-04-29 17:22:38.961 +08:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:22:38.964 +08:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:22:38.964 +08:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-04-29 17:22:38.964 +08:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-04-29 17:22:38.964 +08:00 [VRB] Action Filter: Before executing OnActionExecutionAsync on filter NetPro.Web.Core.Filters.BenchmarkActionFilter.
2020-04-29 17:22:38.976 +08:00 [VRB] Action Filter: Before executing OnActionExecutionAsync on filter NetPro.Web.Core.Filters.ReqeustBodyFilter.
2020-04-29 17:22:38.985 +08:00 [VRB] Action Filter: Before executing OnActionExecutionAsync on filter NetPro.Web.Api.Filters.ViewModelStateActionFilter.
2020-04-29 17:22:39.041 +08:00 [INF] Executing action method YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService) - Validation state: "Valid"
2020-04-29 17:22:44.213 +08:00 [INF] Executed action method YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5168.8661ms.
2020-04-29 17:22:44.216 +08:00 [VRB] Action Filter: After executing OnActionExecutionAsync on filter NetPro.Web.Api.Filters.ViewModelStateActionFilter.
2020-04-29 17:22:44.217 +08:00 [VRB] Action Filter: After executing OnActionExecutionAsync on filter NetPro.Web.Core.Filters.ReqeustBodyFilter.
2020-04-29 17:22:44.235 +08:00 [WRN] 请求时间超过阈值.执行时间:5秒.请求url:http://localhost:5000/api/values,请求Body:,请求IP:127.0.0.1,服务器名称:DESKTOP-16GLPRM
2020-04-29 17:22:44.238 +08:00 [VRB] Action Filter: After executing OnActionExecutionAsync on filter NetPro.Web.Core.Filters.BenchmarkActionFilter.
2020-04-29 17:22:44.238 +08:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-04-29 17:22:44.240 +08:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2020-04-29 17:22:44.241 +08:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:22:44.244 +08:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:22:44.245 +08:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:22:44.247 +08:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:22:44.250 +08:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:22:44.253 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-04-29 17:22:44.256 +08:00 [DBG] No information found on request to perform content negotiation.
2020-04-29 17:22:44.256 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2020-04-29 17:22:44.259 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2020-04-29 17:22:44.261 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2020-04-29 17:22:44.262 +08:00 [INF] Executing ObjectResult, writing value of type 'System.String[]'.
2020-04-29 17:22:44.269 +08:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:22:44.270 +08:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:22:44.272 +08:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:22:44.276 +08:00 [INF] Executed action YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService) in 5321.8987ms
2020-04-29 17:22:44.283 +08:00 [INF] Executed endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:22:44.285 +08:00 [DBG] Connection id "0HLVC3QTQF87C" completed keep alive response.
2020-04-29 17:22:44.291 +08:00 [INF] Request finished in 46964.4416ms 200 application/json; charset=utf-8
2020-04-29 17:22:44.455 +08:00 [DBG] Connection id "0HLVC3QTQF87D" received FIN.
2020-04-29 17:22:44.455 +08:00 [DBG] Connection id "0HLVC3QTQF87D" sending FIN because: "The client closed the connection."
2020-04-29 17:22:44.457 +08:00 [DBG] Connection id "0HLVC3QTQF87D" disconnecting.
2020-04-29 17:22:44.465 +08:00 [DBG] Connection id "0HLVC3QTQF87D" stopped.
2020-04-29 17:22:50.071 +08:00 [DBG] Connection id "0HLVC3QTQF87E" accepted.
2020-04-29 17:22:50.071 +08:00 [DBG] Connection id "0HLVC3QTQF87E" started.
2020-04-29 17:22:50.090 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-04-29 17:22:50.090 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.091 +08:00 [DBG] The request path /swagger does not match a supported file type
2020-04-29 17:22:50.096 +08:00 [DBG] Connection id "0HLVC3QTQF87C" completed keep alive response.
2020-04-29 17:22:50.097 +08:00 [INF] Request finished in 6.8281ms 301 
2020-04-29 17:22:50.104 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-04-29 17:22:50.105 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.109 +08:00 [DBG] The request path /swagger/index.html does not match an existing file
2020-04-29 17:22:50.125 +08:00 [DBG] Connection id "0HLVC3QTQF87C" completed keep alive response.
2020-04-29 17:22:50.125 +08:00 [INF] Request finished in 20.4623ms 200 text/html;charset=utf-8
2020-04-29 17:22:50.165 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css  
2020-04-29 17:22:50.167 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.167 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/custom.css  
2020-04-29 17:22:50.167 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.168 +08:00 [DBG] The request path /swagger/swagger-ui.css does not match an existing file
2020-04-29 17:22:50.168 +08:00 [DBG] The request path /custom.css does not match an existing file
2020-04-29 17:22:50.168 +08:00 [DBG] Connection id "0HLVC3QTQF87F" accepted.
2020-04-29 17:22:50.168 +08:00 [DBG] Connection id "0HLVC3QTQF87F" started.
2020-04-29 17:22:50.168 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:22:50.168 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js  
2020-04-29 17:22:50.168 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.168 +08:00 [DBG] No candidates found for the request path '/custom.css'
2020-04-29 17:22:50.168 +08:00 [DBG] Connection id "0HLVC3QTQF87G" accepted.
2020-04-29 17:22:50.168 +08:00 [DBG] Request did not match any endpoints
2020-04-29 17:22:50.168 +08:00 [DBG] The request path /swagger/swagger-ui-bundle.js does not match an existing file
2020-04-29 17:22:50.168 +08:00 [DBG] Connection id "0HLVC3QTQF87G" started.
2020-04-29 17:22:50.169 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js  
2020-04-29 17:22:50.169 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.169 +08:00 [DBG] The request path /swagger/swagger-ui-standalone-preset.js does not match an existing file
2020-04-29 17:22:50.181 +08:00 [VRB] Range header's value is empty.
2020-04-29 17:22:50.181 +08:00 [VRB] Range header's value is empty.
2020-04-29 17:22:50.181 +08:00 [VRB] Range header's value is empty.
2020-04-29 17:22:50.185 +08:00 [DBG] Connection id "0HLVC3QTQF87E" completed keep alive response.
2020-04-29 17:22:50.185 +08:00 [INF] Request finished in 17.7176ms 404 
2020-04-29 17:22:50.227 +08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2020-04-29 17:22:50.231 +08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2020-04-29 17:22:50.238 +08:00 [DBG] Connection id "0HLVC3QTQF87C" completed keep alive response.
2020-04-29 17:22:50.238 +08:00 [DBG] Connection id "0HLVC3QTQF87G" completed keep alive response.
2020-04-29 17:22:50.238 +08:00 [INF] Request finished in 73.0337ms 200 text/css
2020-04-29 17:22:50.238 +08:00 [INF] Request finished in 69.1655ms 200 application/javascript
2020-04-29 17:22:50.246 +08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2020-04-29 17:22:50.247 +08:00 [DBG] Connection id "0HLVC3QTQF87F" completed keep alive response.
2020-04-29 17:22:50.247 +08:00 [INF] Request finished in 79.3357ms 200 application/javascript
2020-04-29 17:22:50.350 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/docs/v1/docs.json  
2020-04-29 17:22:50.350 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.352 +08:00 [DBG] The request path /docs/v1/docs.json does not match an existing file
2020-04-29 17:22:50.372 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2020-04-29 17:22:50.374 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:22:50.374 +08:00 [DBG] The request path /swagger/favicon-32x32.png does not match an existing file
2020-04-29 17:22:50.374 +08:00 [VRB] Range header's value is empty.
2020-04-29 17:22:50.375 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2020-04-29 17:22:50.375 +08:00 [DBG] Connection id "0HLVC3QTQF87G" completed keep alive response.
2020-04-29 17:22:50.375 +08:00 [INF] Request finished in 2.6987ms 200 image/png
2020-04-29 17:22:50.463 +08:00 [DBG] Connection id "0HLVC3QTQF87F" completed keep alive response.
2020-04-29 17:22:50.466 +08:00 [INF] Request finished in 115.6413ms 200 application/json;charset=utf-8
2020-04-29 17:22:54.374 +08:00 [ERR] Health check redis completed after 15524.5613ms with status "Unhealthy" and 'null'
2020-04-29 17:22:54.383 +08:00 [DBG] Health check processing completed after 15538.8068ms with combined status "Unhealthy"
2020-04-29 17:22:54.395 +08:00 [DBG] Connection id "0HLVC3QTQF87B" completed keep alive response.
2020-04-29 17:22:54.395 +08:00 [INF] Request finished in 70367.3132ms 503 application/json
2020-04-29 17:22:54.423 +08:00 [INF] Received HTTP response after 70451.798ms - "ServiceUnavailable"
2020-04-29 17:22:54.427 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:22:54 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:22:54.429 +08:00 [INF] End processing HTTP request after 70471.4137ms - "ServiceUnavailable"
2020-04-29 17:22:54.430 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:22:54 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:22:54.607 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckFailureNotification>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckFailureNotification>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckFailureNotification>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:22:54.614 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:22:54.614 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:22:54.615 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.616 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.617 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:22:54.622 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:22:54.624 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:22:54.625 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.628 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.637 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.649 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.650 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:22:54.650 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:22:54.664 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:22:54.665 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.667 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.667 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:22:54.671 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:22:54.673 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:22:54.676 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:22:54.679 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:22:54.681 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:22:54.684 +08:00 [DBG] Foreign key property 'HealthCheckFailureNotification.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:22:54.684 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:22:54.684 +08:00 [DBG] Committing transaction.
2020-04-29 17:22:54.727 +08:00 [DBG] Committing transaction.
2020-04-29 17:22:54.728 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.740 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.740 +08:00 [DBG] Disposing transaction.
2020-04-29 17:22:54.753 +08:00 [DBG] An 'HealthCheckFailureNotification' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.753 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2020-04-29 17:22:54.760 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:22:54.805 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:22:54.807 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:22:54.807 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:22:54.808 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.809 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.809 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:22:54.812 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:22:54.813 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:22:54.813 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.816 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.817 +08:00 [DBG] Creating a new HealthReport history.
2020-04-29 17:22:54.825 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.837 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.843 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.856 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.856 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:22:54.856 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:22:54.868 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:22:54.869 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.870 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.870 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:22:54.875 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:22:54.880 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:22:54.880 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:22:54.883 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:22:54.885 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:22:54.888 +08:00 [DBG] Foreign key property 'HealthCheckExecution.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:22:54.893 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.HealthCheckExecutionId' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:22:54.895 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:22:54.896 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:22:54.896 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:22:54.896 +08:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (Size = 54), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:22:54.898 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (Size = 54), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:22:54.902 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:22:54.904 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:22:54.904 +08:00 [DBG] Committing transaction.
2020-04-29 17:22:54.939 +08:00 [DBG] Committing transaction.
2020-04-29 17:22:54.939 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.952 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:22:54.952 +08:00 [DBG] Disposing transaction.
2020-04-29 17:22:54.955 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.958 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:22:54.958 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:22:54.958 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:22:54.961 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:22:54.962 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:23:04.973 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:23:04.999 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:23:05.000 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:23:05.000 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:23:05.000 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:05.002 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:05.002 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:23:05.005 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:23:05.006 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:05.007 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:23:05.007 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:05.009 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:05.009 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:23:05.009 +08:00 [VRB] Request Headers:

2020-04-29 17:23:05.009 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:23:05.009 +08:00 [VRB] Request Headers:

2020-04-29 17:23:05.039 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:23:05.039 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:23:05.042 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:23:05.044 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:23:05.044 +08:00 [DBG] Running health checks
2020-04-29 17:23:05.048 +08:00 [DBG] Running health check redis
2020-04-29 17:23:15.094 +08:00 [ERR] Health check redis completed after 10046.3412ms with status "Unhealthy" and 'null'
2020-04-29 17:23:15.095 +08:00 [DBG] Health check processing completed after 10050.6052ms with combined status "Unhealthy"
2020-04-29 17:23:15.099 +08:00 [DBG] Connection id "0HLVC3QTQF87B" completed keep alive response.
2020-04-29 17:23:15.099 +08:00 [INF] Request finished in 10059.4979ms 503 application/json
2020-04-29 17:23:15.108 +08:00 [INF] Received HTTP response after 10098.6718ms - "ServiceUnavailable"
2020-04-29 17:23:15.110 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:23:14 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:23:15.110 +08:00 [INF] End processing HTTP request after 10100.9123ms - "ServiceUnavailable"
2020-04-29 17:23:15.111 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:23:14 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:23:15.117 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:23:15.118 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:23:15.118 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.120 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.121 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:23:15.126 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:23:15.130 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:15.131 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:23:15.131 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.135 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.135 +08:00 [INF] Notification is sent on same window time.
2020-04-29 17:23:15.135 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:23:15.138 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:23:15.138 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:23:15.138 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.139 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.139 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:23:15.156 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:23:15.157 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:15.168 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:15.170 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:23:15.170 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.173 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.174 +08:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2020-04-29 17:23:15.177 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:23:15.178 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:23:15.182 +08:00 [DBG] Unchanged 'HealthCheckExecution.LastExecuted' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:23:15.183 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:15.185 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Description' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:23:15.185 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:15.185 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Duration' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:23:15.185 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:23:15.186 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.188 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.189 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:23:15.195 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:23:15.201 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:23:15.201 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:23:15.201 +08:00 [DBG] Executing DbCommand [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:23:15.202 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:23:15.208 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:23:15.209 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:23:15.209 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:23:15.210 +08:00 [DBG] Executing DbCommand [Parameters=[@p2='?', @p0='?' (Size = 343), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:23:15.211 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?', @p0='?' (Size = 343), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:23:15.211 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:23:15.211 +08:00 [DBG] Committing transaction.
2020-04-29 17:23:15.242 +08:00 [DBG] Committing transaction.
2020-04-29 17:23:15.242 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.254 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:15.254 +08:00 [DBG] Disposing transaction.
2020-04-29 17:23:15.254 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:15.255 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:15.255 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:23:15.255 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:23:15.255 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:23:15.255 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:23:25.263 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:23:25.266 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:23:25.267 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:23:25.268 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:23:25.269 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:25.270 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:25.270 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:23:25.273 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:23:25.274 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:23:25.275 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:23:25.298 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:25.299 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:23:25.299 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:23:25.300 +08:00 [VRB] Request Headers:

2020-04-29 17:23:25.300 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:23:25.300 +08:00 [VRB] Request Headers:

2020-04-29 17:23:25.313 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:23:25.314 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:23:25.314 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:23:25.316 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:23:25.316 +08:00 [DBG] Running health checks
2020-04-29 17:23:25.316 +08:00 [DBG] Running health check redis
2020-04-29 17:27:07.861 +08:00 [DBG] Hosting starting
2020-04-29 17:27:08.111 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-04-29 17:27:08.121 +08:00 [INF] Now listening on: http://localhost:5000
2020-04-29 17:27:08.122 +08:00 [DBG] Loaded hosting startup assembly YZC.XXXService
2020-04-29 17:27:08.126 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:27:08.148 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:27:08.214 +08:00 [DBG] Connection id "0HLVC3TUGIGOG" accepted.
2020-04-29 17:27:08.214 +08:00 [DBG] Connection id "0HLVC3TUGIGOF" accepted.
2020-04-29 17:27:08.224 +08:00 [DBG] Connection id "0HLVC3TUGIGOG" started.
2020-04-29 17:27:08.224 +08:00 [DBG] Connection id "0HLVC3TUGIGOF" started.
2020-04-29 17:27:08.234 +08:00 [DBG] Connection id "0HLVC3TUGIGOF" received FIN.
2020-04-29 17:27:08.234 +08:00 [DBG] Connection id "0HLVC3TUGIGOG" received FIN.
2020-04-29 17:27:08.247 +08:00 [DBG] Connection id "0HLVC3TUGIGOF" disconnecting.
2020-04-29 17:27:08.247 +08:00 [DBG] Connection id "0HLVC3TUGIGOG" disconnecting.
2020-04-29 17:27:08.261 +08:00 [DBG] Connection id "0HLVC3TUGIGOF" sending FIN because: "The client closed the connection."
2020-04-29 17:27:08.261 +08:00 [DBG] Connection id "0HLVC3TUGIGOG" sending FIN because: "The client closed the connection."
2020-04-29 17:27:08.265 +08:00 [DBG] Connection id "0HLVC3TUGIGOG" stopped.
2020-04-29 17:27:08.265 +08:00 [DBG] Connection id "0HLVC3TUGIGOF" stopped.
2020-04-29 17:27:08.279 +08:00 [DBG] queryContext => new QueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Core.Data.HealthChecksDb, 
    DiagnosticsLogger<Query>
)
2020-04-29 17:27:08.298 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:27:08.303 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:27:08.304 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:27:08.305 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:27:08.311 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:27:08.316 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:27:08.321 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:27:08.326 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:27:08.327 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:27:08.330 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:27:08.337 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:27:08.342 +08:00 [VRB] Request Headers:

2020-04-29 17:27:08.345 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:27:08.347 +08:00 [VRB] Request Headers:

2020-04-29 17:27:08.377 +08:00 [DBG] Connection id "0HLVC3TUGIGOH" accepted.
2020-04-29 17:27:08.379 +08:00 [DBG] Connection id "0HLVC3TUGIGOH" started.
2020-04-29 17:27:08.380 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-04-29 17:27:08.381 +08:00 [INF] Hosting environment: Development
2020-04-29 17:27:08.382 +08:00 [INF] Content root path: F:\自己代码库\NetPro\src\YZC.XXXService
2020-04-29 17:27:08.383 +08:00 [DBG] Hosting started
2020-04-29 17:27:08.402 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:27:08.405 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-04-29 17:27:08.406 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:27:08.410 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:27:16.965 +08:00 [DBG] Connection id "0HLVC3TUGIGOI" accepted.
2020-04-29 17:27:16.965 +08:00 [DBG] Connection id "0HLVC3TUGIGOI" started.
2020-04-29 17:27:16.970 +08:00 [DBG] Connection id "0HLVC3TUGIGOJ" accepted.
2020-04-29 17:27:16.972 +08:00 [DBG] Connection id "0HLVC3TUGIGOJ" started.
2020-04-29 17:27:22.340 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2020-04-29 17:27:22.340 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:27:22.340 +08:00 [DBG] The request path /api/values does not match a supported file type
2020-04-29 17:28:08.384 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:28:08.384 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:28:08.392 +08:00 [DBG] Running health checks
2020-04-29 17:28:08.396 +08:00 [DBG] Running health check redis
2020-04-29 17:28:08.414 +08:00 [DBG] 1 candidate(s) found for the request path '/api/values'
2020-04-29 17:28:08.452 +08:00 [DBG] Endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)' with route pattern 'api/Values' is valid for the request path '/api/values'
2020-04-29 17:28:08.462 +08:00 [DBG] Request matched endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:28:08.465 +08:00 [INF] Executing endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:28:08.472 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-04-29 17:28:08.501 +08:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get(Yzc.Model.Sample) on controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService).
2020-04-29 17:28:08.504 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["NetPro.Web.Api.Filters.CustomAuthorizeFilter"]
2020-04-29 17:28:08.504 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-04-29 17:28:08.506 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","NetPro.Web.Core.Filters.BenchmarkActionFilter","NetPro.Web.Core.Filters.ReqeustBodyFilter","NetPro.Web.Api.Filters.ViewModelStateActionFilter"]
2020-04-29 17:28:08.508 +08:00 [DBG] Execution plan of exception filters (in the following order): ["NetPro.Web.Core.Filters.NetProExceptionFilter"]
2020-04-29 17:28:08.509 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-04-29 17:28:08.512 +08:00 [VRB] Authorization Filter: Before executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:28:08.513 +08:00 [VRB] Authorization Filter: After executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:28:08.515 +08:00 [DBG] Executing controller factory for controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService)
2020-04-29 17:28:08.517 +08:00 [DBG] Executed controller factory for controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService)
2020-04-29 17:28:08.529 +08:00 [DBG] Attempting to bind parameter 'model' of type 'Yzc.Model.Sample' ...
2020-04-29 17:28:08.532 +08:00 [DBG] Attempting to bind parameter 'model' of type 'Yzc.Model.Sample' using the name '' in request data ...
2020-04-29 17:28:08.534 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'null'.
2020-04-29 17:28:08.534 +08:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2020-04-29 17:28:08.536 +08:00 [DBG] Done attempting to bind parameter 'model' of type 'Yzc.Model.Sample'.
2020-04-29 17:28:08.537 +08:00 [DBG] Done attempting to bind parameter 'model' of type 'Yzc.Model.Sample'.
2020-04-29 17:28:08.544 +08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Yzc.Model.Sample' ...
2020-04-29 17:28:08.546 +08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Yzc.Model.Sample'.
2020-04-29 17:28:08.548 +08:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:28:08.550 +08:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:28:08.551 +08:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2020-04-29 17:28:08.552 +08:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:28:08.557 +08:00 [VRB] Replacing Microsoft.AspNetCore.Mvc.UnsupportedMediaTypeResult with status code 415 with Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:28:08.558 +08:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:28:08.560 +08:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:28:08.564 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-04-29 17:28:08.567 +08:00 [DBG] No information found on request to perform content negotiation.
2020-04-29 17:28:08.568 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2020-04-29 17:28:08.570 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2020-04-29 17:28:08.571 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2020-04-29 17:28:08.577 +08:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:28:08.579 +08:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:28:08.581 +08:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:28:08.586 +08:00 [INF] Executed action YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService) in 74.0008ms
2020-04-29 17:28:08.586 +08:00 [INF] Executed endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:28:08.587 +08:00 [DBG] Connection id "0HLVC3TUGIGOI" completed keep alive response.
2020-04-29 17:28:08.599 +08:00 [INF] Request finished in 46272.5758ms 415 application/problem+json; charset=utf-8
2020-04-29 17:28:08.781 +08:00 [DBG] Connection id "0HLVC3TUGIGOJ" received FIN.
2020-04-29 17:28:08.783 +08:00 [DBG] Connection id "0HLVC3TUGIGOJ" disconnecting.
2020-04-29 17:28:08.783 +08:00 [DBG] Connection id "0HLVC3TUGIGOJ" stopped.
2020-04-29 17:28:08.784 +08:00 [DBG] Connection id "0HLVC3TUGIGOJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2020-04-29 17:28:16.656 +08:00 [DBG] Connection id "0HLVC3TUGIGOK" accepted.
2020-04-29 17:28:16.656 +08:00 [DBG] Connection id "0HLVC3TUGIGOK" started.
2020-04-29 17:28:16.684 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-04-29 17:28:16.684 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:28:16.692 +08:00 [DBG] The request path /swagger/index.html does not match an existing file
2020-04-29 17:28:16.708 +08:00 [DBG] Connection id "0HLVC3TUGIGOI" completed keep alive response.
2020-04-29 17:28:16.711 +08:00 [INF] Request finished in 25.6173ms 200 text/html;charset=utf-8
2020-04-29 17:28:16.749 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/custom.css  
2020-04-29 17:28:16.750 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:28:16.755 +08:00 [DBG] The request path /custom.css does not match an existing file
2020-04-29 17:28:16.755 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:28:16.756 +08:00 [DBG] No candidates found for the request path '/custom.css'
2020-04-29 17:28:16.756 +08:00 [DBG] Request did not match any endpoints
2020-04-29 17:28:16.761 +08:00 [DBG] Connection id "0HLVC3TUGIGOI" completed keep alive response.
2020-04-29 17:28:16.762 +08:00 [INF] Request finished in 12.294ms 404 
2020-04-29 17:28:16.896 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/docs/v1/docs.json  
2020-04-29 17:28:16.896 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:28:16.899 +08:00 [DBG] The request path /docs/v1/docs.json does not match an existing file
2020-04-29 17:28:17.019 +08:00 [DBG] Connection id "0HLVC3TUGIGOI" completed keep alive response.
2020-04-29 17:28:17.019 +08:00 [INF] Request finished in 123.3968ms 200 application/json;charset=utf-8
2020-04-29 17:28:23.665 +08:00 [ERR] Health check redis completed after 15265.5542ms with status "Unhealthy" and 'null'
2020-04-29 17:28:23.676 +08:00 [DBG] Health check processing completed after 15280.5269ms with combined status "Unhealthy"
2020-04-29 17:28:23.691 +08:00 [DBG] Connection id "0HLVC3TUGIGOH" completed keep alive response.
2020-04-29 17:28:23.693 +08:00 [INF] Request finished in 75291.041ms 503 application/json
2020-04-29 17:28:23.719 +08:00 [INF] Received HTTP response after 75371.4805ms - "ServiceUnavailable"
2020-04-29 17:28:23.724 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:28:23 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:28:23.726 +08:00 [INF] End processing HTTP request after 75392.1941ms - "ServiceUnavailable"
2020-04-29 17:28:23.727 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:28:23 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:28:23.909 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckFailureNotification>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckFailureNotification>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckFailureNotification>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:28:23.915 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:23.915 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:23.915 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:23.917 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:23.917 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:28:23.923 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:28:23.923 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:23.923 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:23.926 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:23.935 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:23.945 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:23.946 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:28:23.946 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:28:23.955 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:28:23.955 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:23.956 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:23.956 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:28:23.958 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:28:23.959 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:23.961 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:28:23.967 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:28:23.970 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:28:23.973 +08:00 [DBG] Foreign key property 'HealthCheckFailureNotification.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:28:23.973 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:23.973 +08:00 [DBG] Committing transaction.
2020-04-29 17:28:24.005 +08:00 [DBG] Committing transaction.
2020-04-29 17:28:24.005 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.017 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.017 +08:00 [DBG] Disposing transaction.
2020-04-29 17:28:24.025 +08:00 [DBG] An 'HealthCheckFailureNotification' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:24.026 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2020-04-29 17:28:24.033 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:28:24.076 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:28:24.078 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:24.078 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:24.078 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.079 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.080 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:28:24.084 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:28:24.084 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:24.085 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.088 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.088 +08:00 [DBG] Creating a new HealthReport history.
2020-04-29 17:28:24.094 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:24.105 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:24.112 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:24.123 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:24.123 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:28:24.123 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:28:24.134 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:28:24.135 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.135 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.135 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:28:24.139 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:28:24.146 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:24.146 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:24.148 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:28:24.149 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:28:24.152 +08:00 [DBG] Foreign key property 'HealthCheckExecution.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:28:24.157 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.HealthCheckExecutionId' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:28:24.159 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:24.160 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:24.160 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:24.161 +08:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (Size = 342), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:28:24.162 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (Size = 342), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:28:24.166 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:28:24.167 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:24.167 +08:00 [DBG] Committing transaction.
2020-04-29 17:28:24.195 +08:00 [DBG] Committing transaction.
2020-04-29 17:28:24.195 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.207 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:24.207 +08:00 [DBG] Disposing transaction.
2020-04-29 17:28:24.211 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:24.214 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:24.214 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:28:24.214 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:28:24.217 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:28:24.218 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:28:34.230 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:28:34.255 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:28:34.258 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:34.259 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:34.260 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:34.261 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:34.262 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:28:34.264 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:28:34.265 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:34.265 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:34.265 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:34.266 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:34.267 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:28:34.267 +08:00 [VRB] Request Headers:

2020-04-29 17:28:34.267 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:28:34.267 +08:00 [VRB] Request Headers:

2020-04-29 17:28:34.288 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:28:34.288 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:28:34.288 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:28:34.288 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:28:34.289 +08:00 [DBG] Running health checks
2020-04-29 17:28:34.290 +08:00 [DBG] Running health check redis
2020-04-29 17:28:44.343 +08:00 [ERR] Health check redis completed after 10053.1401ms with status "Unhealthy" and 'null'
2020-04-29 17:28:44.343 +08:00 [DBG] Health check processing completed after 10054.6837ms with combined status "Unhealthy"
2020-04-29 17:28:44.347 +08:00 [DBG] Connection id "0HLVC3TUGIGOH" completed keep alive response.
2020-04-29 17:28:44.349 +08:00 [INF] Request finished in 10059.5575ms 503 application/json
2020-04-29 17:28:44.363 +08:00 [INF] Received HTTP response after 10094.7229ms - "ServiceUnavailable"
2020-04-29 17:28:44.365 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:28:43 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:28:44.365 +08:00 [INF] End processing HTTP request after 10098.7501ms - "ServiceUnavailable"
2020-04-29 17:28:44.365 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:28:43 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:28:44.374 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:44.374 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:44.376 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.378 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.379 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:28:44.381 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:28:44.385 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:44.387 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:44.387 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.392 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.394 +08:00 [INF] Notification is sent on same window time.
2020-04-29 17:28:44.395 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:28:44.398 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:44.398 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:44.398 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.400 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.400 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:28:44.406 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:28:44.406 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:44.416 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:44.418 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:44.419 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.423 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.424 +08:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2020-04-29 17:28:44.427 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:28:44.427 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:28:44.431 +08:00 [DBG] Unchanged 'HealthCheckExecution.LastExecuted' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:28:44.432 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:44.433 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Description' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:28:44.433 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:44.433 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Duration' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:28:44.433 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:28:44.437 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.438 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.438 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:28:44.446 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:28:44.453 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:44.453 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:44.453 +08:00 [DBG] Executing DbCommand [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:28:44.455 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:28:44.461 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:44.463 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:44.463 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:28:44.463 +08:00 [DBG] Executing DbCommand [Parameters=[@p2='?', @p0='?' (Size = 343), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:28:44.464 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?', @p0='?' (Size = 343), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:28:44.464 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:44.464 +08:00 [DBG] Committing transaction.
2020-04-29 17:28:44.498 +08:00 [DBG] Committing transaction.
2020-04-29 17:28:44.498 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.511 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:44.511 +08:00 [DBG] Disposing transaction.
2020-04-29 17:28:44.511 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:44.511 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:44.511 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:28:44.512 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:28:44.512 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:28:44.512 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:28:54.526 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:28:54.530 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:28:54.532 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:28:54.533 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:28:54.534 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:54.535 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:54.537 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:28:54.543 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:28:54.546 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:28:54.547 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:28:54.548 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:54.551 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:28:54.553 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:28:54.553 +08:00 [VRB] Request Headers:

2020-04-29 17:28:54.555 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:28:54.555 +08:00 [VRB] Request Headers:

2020-04-29 17:28:54.570 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:28:54.570 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:28:54.572 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:28:54.575 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:28:54.575 +08:00 [DBG] Running health checks
2020-04-29 17:28:54.576 +08:00 [DBG] Running health check redis
2020-04-29 17:29:04.631 +08:00 [ERR] Health check redis completed after 10054.9041ms with status "Unhealthy" and 'null'
2020-04-29 17:29:04.631 +08:00 [DBG] Health check processing completed after 10056.0903ms with combined status "Unhealthy"
2020-04-29 17:29:04.632 +08:00 [DBG] Connection id "0HLVC3TUGIGOH" completed keep alive response.
2020-04-29 17:29:04.632 +08:00 [INF] Request finished in 10062.6106ms 503 application/json
2020-04-29 17:29:04.645 +08:00 [INF] Received HTTP response after 10089.2531ms - "ServiceUnavailable"
2020-04-29 17:29:04.645 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:29:04 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:29:04.645 +08:00 [INF] End processing HTTP request after 10092.2635ms - "ServiceUnavailable"
2020-04-29 17:29:04.645 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:29:04 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:29:04.651 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:29:04.652 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:29:04.654 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.655 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.656 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:29:04.660 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:29:04.662 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:04.664 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:29:04.665 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.667 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.668 +08:00 [INF] Notification is sent on same window time.
2020-04-29 17:29:04.668 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:29:04.671 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:29:04.671 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:29:04.671 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.673 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.673 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:29:04.689 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:29:04.692 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:04.694 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:04.697 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:29:04.698 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.708 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.708 +08:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2020-04-29 17:29:04.708 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:29:04.708 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:29:04.708 +08:00 [DBG] Unchanged 'HealthCheckExecution.LastExecuted' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:29:04.708 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:04.708 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Description' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:29:04.708 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:04.708 +08:00 [DBG] Unchanged 'HealthCheckExecutionEntry.Duration' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:29:04.708 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:29:04.709 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.710 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.710 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:29:04.712 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:29:04.713 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:29:04.713 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:29:04.713 +08:00 [DBG] Executing DbCommand [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:29:04.713 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1;
SELECT changes();
2020-04-29 17:29:04.713 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:29:04.713 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:29:04.713 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:29:04.713 +08:00 [DBG] Executing DbCommand [Parameters=[@p2='?', @p0='?' (Size = 343), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:29:04.714 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?', @p0='?' (Size = 343), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2;
SELECT changes();
2020-04-29 17:29:04.714 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:29:04.714 +08:00 [DBG] Committing transaction.
2020-04-29 17:29:04.745 +08:00 [DBG] Committing transaction.
2020-04-29 17:29:04.747 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.761 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:04.763 +08:00 [DBG] Disposing transaction.
2020-04-29 17:29:04.763 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:04.763 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:04.763 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:29:04.763 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:29:04.763 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:29:04.763 +08:00 [DBG] 'HealthChecksDb' disposed.
2020-04-29 17:29:08.142 +08:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks-webhooks'
2020-04-29 17:29:08.142 +08:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks'
2020-04-29 17:29:14.770 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:29:14.774 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:29:14.775 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:29:14.776 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2020-04-29 17:29:14.777 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:14.778 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:14.779 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:29:14.783 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:29:14.783 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:29:14.783 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:29:14.784 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:14.786 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:29:14.787 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:29:14.788 +08:00 [VRB] Request Headers:

2020-04-29 17:29:14.789 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:29:14.789 +08:00 [VRB] Request Headers:

2020-04-29 17:29:14.811 +08:00 [DBG] Connection id "0HLVC3TUGIGOL" accepted.
2020-04-29 17:29:14.812 +08:00 [DBG] Connection id "0HLVC3TUGIGOL" started.
2020-04-29 17:29:14.817 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:29:14.818 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:29:14.818 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:29:14.818 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:29:14.819 +08:00 [DBG] Running health checks
2020-04-29 17:29:14.819 +08:00 [DBG] Running health check redis
2020-04-29 17:29:18.158 +08:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-04-29 17:29:18.162 +08:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2020-04-29 17:35:28.168 +08:00 [DBG] Hosting starting
2020-04-29 17:35:28.411 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2020-04-29 17:35:28.421 +08:00 [INF] Now listening on: http://localhost:5000
2020-04-29 17:35:28.422 +08:00 [DBG] Loaded hosting startup assembly YZC.XXXService
2020-04-29 17:35:28.426 +08:00 [DBG] Executing HealthCheck collector HostedService.
2020-04-29 17:35:28.448 +08:00 [INF] Entity Framework Core 3.1.3 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2020-04-29 17:35:28.530 +08:00 [DBG] queryContext => new QueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Core.Data.HealthChecksDb, 
    DiagnosticsLogger<Query>
)
2020-04-29 17:35:28.546 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:35:28.552 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:35:28.556 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:35:28.558 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:35:28.563 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:35:28.569 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2020-04-29 17:35:28.574 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:35:28.580 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:35:28.581 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:35:28.584 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:35:28.591 +08:00 [INF] Start processing HTTP request GET "http://localhost:5000/health"
2020-04-29 17:35:28.597 +08:00 [VRB] Request Headers:

2020-04-29 17:35:28.600 +08:00 [INF] Sending HTTP request GET "http://localhost:5000/health"
2020-04-29 17:35:28.602 +08:00 [VRB] Request Headers:

2020-04-29 17:35:28.632 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2020-04-29 17:35:28.632 +08:00 [INF] Hosting environment: Development
2020-04-29 17:35:28.632 +08:00 [INF] Content root path: F:\自己代码库\NetPro\src\YZC.XXXService
2020-04-29 17:35:28.633 +08:00 [DBG] Hosting started
2020-04-29 17:35:28.648 +08:00 [DBG] Connection id "0HLVC42JL2QLH" accepted.
2020-04-29 17:35:28.650 +08:00 [DBG] Connection id "0HLVC42JL2QLH" started.
2020-04-29 17:35:28.665 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health  
2020-04-29 17:35:28.668 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-04-29 17:35:28.669 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:35:28.672 +08:00 [DBG] The request path /health does not match a supported file type
2020-04-29 17:35:38.502 +08:00 [DBG] Connection id "0HLVC42JL2QLI" received FIN.
2020-04-29 17:35:38.536 +08:00 [DBG] Connection id "0HLVC42JL2QLJ" received FIN.
2020-04-29 17:35:38.548 +08:00 [DBG] Connection id "0HLVC42JL2QLJ" accepted.
2020-04-29 17:35:38.548 +08:00 [DBG] Connection id "0HLVC42JL2QLI" accepted.
2020-04-29 17:35:38.548 +08:00 [DBG] Connection id "0HLVC42JL2QLI" started.
2020-04-29 17:35:38.548 +08:00 [DBG] Connection id "0HLVC42JL2QLJ" started.
2020-04-29 17:35:38.561 +08:00 [DBG] Connection id "0HLVC42JL2QLK" accepted.
2020-04-29 17:35:38.561 +08:00 [DBG] Connection id "0HLVC42JL2QLK" started.
2020-04-29 17:35:38.584 +08:00 [DBG] Connection id "0HLVC42JL2QLL" accepted.
2020-04-29 17:35:38.585 +08:00 [DBG] Connection id "0HLVC42JL2QLL" started.
2020-04-29 17:35:40.991 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2020-04-29 17:35:40.992 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:35:40.992 +08:00 [DBG] The request path /api/values does not match a supported file type
2020-04-29 17:35:41.559 +08:00 [DBG] Connection id "0HLVC42JL2QLJ" sending FIN because: "The client closed the connection."
2020-04-29 17:35:41.559 +08:00 [DBG] Connection id "0HLVC42JL2QLI" sending FIN because: "The client closed the connection."
2020-04-29 17:35:41.570 +08:00 [DBG] Connection id "0HLVC42JL2QLI" disconnecting.
2020-04-29 17:35:41.570 +08:00 [DBG] Connection id "0HLVC42JL2QLJ" disconnecting.
2020-04-29 17:35:41.653 +08:00 [DBG] Connection id "0HLVC42JL2QLJ" stopped.
2020-04-29 17:35:41.653 +08:00 [DBG] Connection id "0HLVC42JL2QLI" stopped.
2020-04-29 17:36:04.746 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:36:04.746 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:36:04.753 +08:00 [DBG] Running health checks
2020-04-29 17:36:04.758 +08:00 [DBG] Running health check redis
2020-04-29 17:36:04.775 +08:00 [DBG] 1 candidate(s) found for the request path '/api/values'
2020-04-29 17:36:04.781 +08:00 [DBG] Endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)' with route pattern 'api/Values' is valid for the request path '/api/values'
2020-04-29 17:36:04.792 +08:00 [DBG] Request matched endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:36:04.836 +08:00 [INF] Executing endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:36:04.844 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2020-04-29 17:36:04.871 +08:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get(Yzc.Model.Sample) on controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService).
2020-04-29 17:36:04.874 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["NetPro.Web.Api.Filters.CustomAuthorizeFilter"]
2020-04-29 17:36:04.874 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2020-04-29 17:36:04.876 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","NetPro.Web.Core.Filters.BenchmarkActionFilter","NetPro.Web.Core.Filters.ReqeustBodyFilter","NetPro.Web.Api.Filters.ViewModelStateActionFilter"]
2020-04-29 17:36:04.877 +08:00 [DBG] Execution plan of exception filters (in the following order): ["NetPro.Web.Core.Filters.NetProExceptionFilter"]
2020-04-29 17:36:04.878 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2020-04-29 17:36:04.880 +08:00 [VRB] Authorization Filter: Before executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:36:04.882 +08:00 [VRB] Authorization Filter: After executing OnAuthorizationAsync on filter NetPro.Web.Api.Filters.CustomAuthorizeFilter.
2020-04-29 17:36:04.883 +08:00 [DBG] Executing controller factory for controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService)
2020-04-29 17:36:04.885 +08:00 [DBG] Executed controller factory for controller YZC.XXXService.Controllers.ValuesController (YZC.XXXService)
2020-04-29 17:36:04.899 +08:00 [DBG] Attempting to bind parameter 'model' of type 'Yzc.Model.Sample' ...
2020-04-29 17:36:04.902 +08:00 [DBG] Attempting to bind parameter 'model' of type 'Yzc.Model.Sample' using the name '' in request data ...
2020-04-29 17:36:04.904 +08:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'null'.
2020-04-29 17:36:04.905 +08:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2020-04-29 17:36:04.907 +08:00 [DBG] Done attempting to bind parameter 'model' of type 'Yzc.Model.Sample'.
2020-04-29 17:36:04.908 +08:00 [DBG] Done attempting to bind parameter 'model' of type 'Yzc.Model.Sample'.
2020-04-29 17:36:04.909 +08:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Yzc.Model.Sample' ...
2020-04-29 17:36:04.912 +08:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Yzc.Model.Sample'.
2020-04-29 17:36:04.914 +08:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:36:04.916 +08:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2020-04-29 17:36:04.917 +08:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2020-04-29 17:36:04.919 +08:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:36:04.923 +08:00 [VRB] Replacing Microsoft.AspNetCore.Mvc.UnsupportedMediaTypeResult with status code 415 with Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:36:04.925 +08:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:36:04.926 +08:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:36:04.931 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2020-04-29 17:36:04.933 +08:00 [DBG] No information found on request to perform content negotiation.
2020-04-29 17:36:04.935 +08:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2020-04-29 17:36:04.936 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2020-04-29 17:36:04.937 +08:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2020-04-29 17:36:04.942 +08:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2020-04-29 17:36:04.944 +08:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:36:04.945 +08:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2020-04-29 17:36:04.951 +08:00 [INF] Executed action YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService) in 68.8326ms
2020-04-29 17:36:04.951 +08:00 [INF] Executed endpoint 'YZC.XXXService.Controllers.ValuesController.Get (YZC.XXXService)'
2020-04-29 17:36:04.952 +08:00 [DBG] Connection id "0HLVC42JL2QLL" completed keep alive response.
2020-04-29 17:36:04.960 +08:00 [INF] Request finished in 23968.5346ms 415 application/problem+json; charset=utf-8
2020-04-29 17:36:05.145 +08:00 [DBG] Connection id "0HLVC42JL2QLK" received FIN.
2020-04-29 17:36:05.148 +08:00 [DBG] Connection id "0HLVC42JL2QLK" sending FIN because: "The client closed the connection."
2020-04-29 17:36:05.149 +08:00 [DBG] Connection id "0HLVC42JL2QLK" disconnecting.
2020-04-29 17:36:05.150 +08:00 [DBG] Connection id "0HLVC42JL2QLK" stopped.
2020-04-29 17:36:10.470 +08:00 [DBG] Connection id "0HLVC42JL2QLM" accepted.
2020-04-29 17:36:10.470 +08:00 [DBG] Connection id "0HLVC42JL2QLM" started.
2020-04-29 17:36:10.487 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-04-29 17:36:10.488 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:36:10.497 +08:00 [DBG] The request path /swagger/index.html does not match an existing file
2020-04-29 17:36:10.512 +08:00 [DBG] Connection id "0HLVC42JL2QLL" completed keep alive response.
2020-04-29 17:36:10.514 +08:00 [INF] Request finished in 25.4208ms 200 text/html;charset=utf-8
2020-04-29 17:36:10.558 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/custom.css  
2020-04-29 17:36:10.558 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:36:10.558 +08:00 [DBG] The request path /custom.css does not match an existing file
2020-04-29 17:36:10.558 +08:00 [DBG] The request path  does not match the path filter
2020-04-29 17:36:10.559 +08:00 [DBG] No candidates found for the request path '/custom.css'
2020-04-29 17:36:10.559 +08:00 [DBG] Request did not match any endpoints
2020-04-29 17:36:10.565 +08:00 [DBG] Connection id "0HLVC42JL2QLL" completed keep alive response.
2020-04-29 17:36:10.565 +08:00 [INF] Request finished in 7.7999ms 404 
2020-04-29 17:36:10.653 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/docs/v1/docs.json  
2020-04-29 17:36:10.653 +08:00 [VRB] All hosts are allowed.
2020-04-29 17:36:10.654 +08:00 [DBG] The request path /docs/v1/docs.json does not match an existing file
2020-04-29 17:36:10.759 +08:00 [DBG] Connection id "0HLVC42JL2QLL" completed keep alive response.
2020-04-29 17:36:10.759 +08:00 [INF] Request finished in 105.846ms 200 application/json;charset=utf-8
2020-04-29 17:36:20.019 +08:00 [ERR] Health check redis completed after 15258.0354ms with status "Unhealthy" and 'null'
2020-04-29 17:36:20.029 +08:00 [DBG] Health check processing completed after 15272.5502ms with combined status "Unhealthy"
2020-04-29 17:36:20.042 +08:00 [DBG] Connection id "0HLVC42JL2QLH" completed keep alive response.
2020-04-29 17:36:20.042 +08:00 [INF] Request finished in 51377.2835ms 503 application/json
2020-04-29 17:36:20.069 +08:00 [INF] Received HTTP response after 51467.1695ms - "ServiceUnavailable"
2020-04-29 17:36:20.074 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:36:19 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:36:20.076 +08:00 [INF] End processing HTTP request after 51487.4631ms - "ServiceUnavailable"
2020-04-29 17:36:20.077 +08:00 [VRB] Response Headers:
Date: Wed, 29 Apr 2020 09:36:19 GMT
Server: Kestrel
Cache-Control: no-store, no-cache
Pragma: no-cache
Transfer-Encoding: chunked
Content-Type: application/json
Expires: Thu, 01 Jan 1970 00:00:00 GMT

2020-04-29 17:36:20.265 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckFailureNotification>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckFailureNotification>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckFailureNotification>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:36:20.272 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:36:20.272 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:36:20.273 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.276 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.278 +08:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:36:20.285 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 10), @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."HealthCheckName", "t"."IsUpAndRunning", "t"."LastNotified"
FROM (
    SELECT "f"."Id", "f"."HealthCheckName", "f"."IsUpAndRunning", "f"."LastNotified"
    FROM "Failures" AS "f"
    WHERE lower("f"."HealthCheckName") = @__ToLower_0
    ORDER BY "f"."LastNotified" DESC
    LIMIT @__p_1
) AS "t"
ORDER BY "t"."LastNotified" DESC
LIMIT 2
2020-04-29 17:36:20.287 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:36:20.289 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.291 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.299 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.316 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckFailureNotification' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.318 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:36:20.319 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:36:20.332 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:36:20.333 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.335 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.336 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:36:20.340 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:36:20.342 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:36:20.343 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:36:20.347 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:36:20.349 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 10), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Failures" ("HealthCheckName", "IsUpAndRunning", "LastNotified")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "Failures"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:36:20.352 +08:00 [DBG] Foreign key property 'HealthCheckFailureNotification.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:36:20.353 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:36:20.354 +08:00 [DBG] Committing transaction.
2020-04-29 17:36:20.387 +08:00 [DBG] Committing transaction.
2020-04-29 17:36:20.387 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.399 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.399 +08:00 [DBG] Disposing transaction.
2020-04-29 17:36:20.407 +08:00 [DBG] An 'HealthCheckFailureNotification' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.408 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2020-04-29 17:36:20.415 +08:00 [DBG] HealthReportCollector - health report execution history saved.
2020-04-29 17:36:20.455 +08:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new QueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Core.Data.HealthChecksDb, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2020-04-29 17:36:20.458 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:36:20.458 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:36:20.458 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.459 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.460 +08:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:36:20.463 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id", "h0"."Id"
2020-04-29 17:36:20.464 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:36:20.464 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.466 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.466 +08:00 [DBG] Creating a new HealthReport history.
2020-04-29 17:36:20.475 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.487 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.493 +08:00 [DBG] 'HealthChecksDb' generated a temporary value for the 'Id' property of new 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.506 +08:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.506 +08:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2020-04-29 17:36:20.506 +08:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2020-04-29 17:36:20.517 +08:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2020-04-29 17:36:20.517 +08:00 [DBG] Opening connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.519 +08:00 [DBG] Opened connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.519 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2020-04-29 17:36:20.523 +08:00 [DBG] Began transaction with isolation level 'Serializable'.
2020-04-29 17:36:20.528 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:36:20.528 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:36:20.531 +08:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:36:20.533 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 10), @p3='?', @p4='?', @p5='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Executions" ("DiscoveryService", "LastExecuted", "Name", "OnStateFrom", "Status", "Uri")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Executions"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:36:20.535 +08:00 [DBG] Foreign key property 'HealthCheckExecution.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:36:20.540 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.HealthCheckExecutionId' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:36:20.542 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:36:20.544 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2020-04-29 17:36:20.544 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2020-04-29 17:36:20.544 +08:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (Size = 342), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:36:20.547 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (Size = 342), @p7='?', @p8='?', @p9='?' (Size = 5), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "HealthCheckExecutionEntries" ("Description", "Duration", "HealthCheckExecutionId", "Name", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT "Id"
FROM "HealthCheckExecutionEntries"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2020-04-29 17:36:20.550 +08:00 [DBG] Foreign key property 'HealthCheckExecutionEntry.Id' detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2020-04-29 17:36:20.551 +08:00 [DBG] A data reader was disposed.
2020-04-29 17:36:20.551 +08:00 [DBG] Committing transaction.
2020-04-29 17:36:20.588 +08:00 [DBG] Committing transaction.
2020-04-29 17:36:20.588 +08:00 [DBG] Closing connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.600 +08:00 [DBG] Closed connection to database 'main' on server 'F:\自己代码库\NetPro\src\YZC.XXXService\healthchecksdb'.
2020-04-29 17:36:20.601 +08:00 [DBG] Disposing transaction.
2020-04-29 17:36:20.604 +08:00 [DBG] An 'HealthCheckExecution' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.607 +08:00 [DBG] An 'HealthCheckExecutionEntry' entity tracked by 'HealthChecksDb' changed from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2020-04-29 17:36:20.607 +08:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2020-04-29 17:36:20.607 +08:00 [DBG] HealthReportCollector has completed.
2020-04-29 17:36:20.612 +08:00 [DBG] HealthCheck collector HostedService executed successfully.
2020-04-29 17:36:20.614 +08:00 [DBG] 'HealthChecksDb' disposed.
